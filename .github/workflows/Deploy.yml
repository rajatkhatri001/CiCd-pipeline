name: Deploy 
on: 
  push:
    branched: 
       - feature
    path-ignore: 
       - .github/**

jobs: 
   test:
    runs-on: ubuntu-latest
    steps: 
      - name: get code from the repo
        uses: actions/checkout@v4
      - name: Install the Nodejs
        uses: actions/setup-node@v6
        with: 
          node-version: 20
      - name: Print the version 
        run: node -v 
      - name: cache Dependencies 
        uses: actions/cache@v4
        with: 
          path: ~/.npm
          key: ${{runner.os}}-node-${{hashFiles('**/package-lock
      - name: Install the node.js Dependencies
        run: npm ci
      - name: run test cases 
        run: node run test



   Deploy:
    runs-on: ubuntu-latest
    steps: 
      - name: get code from the repo
        uses: actions/checkout@v4
      - name: Install the Nodejs
        uses: actions/setup-node@v6
        with: 
          node-version: 20
      - name: Print the version 
        run: node -v 
      - name: cache Dependencies 
        uses: actions/cache@v4
        with: 
          path: ~/.npm
          key: ${{runner.os}}-node-${{hashFiles('**/package-lock
      - name: Install the node.js Dependencies
        run: npm ci
      - name: Run the Test Cases
        run: npm run test
      - name: build the application 
        run: npm run build 
      - name: Deploy Test
        run: Echo "Deploy Successfull"

